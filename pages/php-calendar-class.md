title: PHP класс для генерации умных календарей
link: http://paradigm.ru/php-calendar-class
creator: admin
description:
post_id: 308
created: 2008/05/07 11:22:10
created_gmt: 2008/05/07 18:22:10
comment_status: open
post_name: php-calendar-class
status: publish
post_type: page

# PHP класс для генерации умных календарей

Предоставляет простой API для генерации HTML кода календарей. Был написан для собственных нужд и, в порыве человеколюбия, выложен в public domain.

### Где взять?

Здесь: [/media/calendar.class/calendar.class.zip](/media/calendar.class/calendar.class.zip)

### Что умеет?

  * Умеет генерировать календарь на отдельно заданный месяц или год.
  * Имеет многоязычную поддержку. Названия месяцев и дней недели, могут отображаться на русском и английском языках (этот набор языков легко расшириряется).
  * Первым днём недели можно задать воскресенье или понедельник — по необходимости.
  * Опционально выдеяет текущую (заданную) дату и выходные дни (воскресенье или субботу и воскресенье).
  * Умеет привязывать к заданным датам гиперссылки и фрагменты текста, которые отображаются в виде хинтов при наведении курсора.
  * Оформление сделано полностью через внешние таблицы стилей. В комплект поставки входит три разных типа оформления, по образу и подобию которых можно делать свои собственные.

### Как все выглядит?

Ниже приведены несколько скриншотов сгенерированных календарей. По клику на любом из них откроется страница с соответствующим примером кода и сами календари вживую.

[![](/media/03-php-calendar.png)](/media/calendar.class/#c05)

Код календарей генерируется с включенными CSS-спецификаторами, благодаря чему их можно оформлять с помощью собственных стилей.

[![](/media/01-php-calendar.png)](/media/calendar.class/#c03)

[Несколько примеров](/media/calendar.class/#c04) определения CSS-классов для календарей.

[![](/media/02-php-calendar.png)](/media/calendar.class/#c04)

## Comments

**[Александр](#7599 "2008/11/26 15:07:39"):** Скрипт хороший. Искал как раз генератор календаря. Единственное, не понял, как выставлять язык - ru Надеюсь, автор пояснит... Спасибо!

**[mihdan](#11771 "2008/12/17 12:41:20"):** ` $calendar = new Calendar(); $calendar->lng = 'ru'; `

**[admin](#41327 "2009/12/24 13:41:52"):** Александр: Видимо, в браузере кодировка сбилась. Нужно ее поправить в HTTP заголовоке или в <head> прописать правильную. Ну или включить автоопределение, если оно не работает.

**[Александр](#41269 "2009/12/22 14:13:39"):** Добрый день! Сделал из ваших образцов вот такой календарик. setLang('ru'); $c->setOptions(CLD_MONDAYS | CLD_MARKSATSUN); $c->setCssPrefix('blank_'); $currentMonth = time(); echo $c->genUMonth($currentMonth, true); ?> Но почему то по русски пишет не правильно названия дней: дЕЙЮАПЭ оМ бР яП вР оР яА бЯ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31

**[admin](#39366 "2009/10/30 17:30:20"):** nikolay: Префиксный ноль при выводе чисел можно сделать функциями sprintf(), date() и, возможно, number_format(). Форматирование URL не относится к функционалу календаря, поэтому грамотнее его делать вне класса. Может, книжку про php прочитать, м?

**[nikolay](#39363 "2009/10/30 17:03:27"):** Спасибо большое за помощь! Единственное что не могу решить как вывести нужный мне день в ссылке. Сейчас 1,2, 3, 4 и тд. а надо чтобы начиналось с 01,02,03. Еще раз спасибо. Может класс где-то подправить? Код вот. for($i = 1; $i addDateLink($i, 10, 2009, "http://www.example.com/2009/10$i");

**[nikolay](#39322 "2009/10/29 16:33:53"):** Спасибо! А дни случайно не подскажите чтобы после $i еще и день выводился по порядку. Спасибо еще раз.

**[admin](#39326 "2009/10/29 17:53:44"):** nikolay:

    ... + $i + "/" + date("l", [нужная дата и время]) ...

http://php.net/manual/en/function.date.php

**[nikolay](#39318 "2009/10/29 15:03:52"):** Здравствуйте, подскажите как автоматически привязать к числу месяца гиперссылку вида 2009/1001/ например. Спасибо. Чтобы в календаре автоматически проставлялись ссылки?

**[admin](#39319 "2009/10/29 15:23:34"):** nikolay: Например, так:

    for($i = 1; $i < 13; $i++)
      $calendar->addDateTitle(10, $i, 2009, "http://example.com/2009/" + $i);

**[koldun666](#38761 "2009/10/14 15:11:08"):** Огромное спасибо! Все прекрасно работает.

**[mihdan](#35032 "2009/06/05 12:46:29"):** /media/calendar.class/#c04

**[Zheban](#35001 "2009/06/04 11:27:37"):** А как вообще ставить его?

**[Василий](#34459 "2009/05/19 08:38:27"):** Прошу прощения, Вы были правы. я не туда смотрел, все дело было таки да. в теге link

**[Василий](#34430 "2009/05/18 17:21:07"):** использую demo4.php у меня класс подключить так как тут советовали: include_once ‘calendar.class.php’; $cal = new Calendar(); не вышло, подключил следующим образом: nclude_once('./calendar.class.php'); $c = new Calendar(); но увы не подключаются стили хотя ошибок не выдается :( что может быть не так подскажите пожалуйста

**[admin](#34431 "2009/05/18 17:30:19"):** Василий: Стили подключаются в заголовке HTML документа. С PHP кодом это никак не связано. Поправьте путь к CSS файлу в соответствующем теге link.

**[Василий](#34432 "2009/05/18 18:10:57"):** прошу прощения наверно неправильно описал проблему (или чего то я сам не понял , увы мне) : в последнем примере demo4.php. где отрисовываются 3 месяца насколько я разобрался за включение определений CSS-классов для календарей отвечает : $c->setCssPrefix('red_'); а затем отрисовка месяца в соответствующем стиле: echo $c->genUMonth($prevMonth); вот єто и не работает setCssPrefix описан в calendar.class.php, сам CSS описан в calendar_red.css можно предположиь, что, в данном случае, проблема возможно не в теге link?

**[admin](#34433 "2009/05/18 18:35:10"):** Василий: Посмотрите на сгенерированный HTML код. Если префиксы red_ присутствуют в именах CSS классов, значит код сгенерировался нормально, и причина отсутствия правильных стилей может быть только в том, что .css не подключился.

**[Юрий](#33192 "2009/04/29 13:47:20"):** пробовал менять число - все равно при -2 - дает март. а не февраль.

**[Юрий](#33194 "2009/04/29 14:11:21"):** сделал так $d1 = getdate(); $day1 = $d1["mday"]; $currentMonth = strtotime('+'.@$_SESSION['monthjump'].' month'); if ($day1==29) $currentMonth = strtotime('+'.@$_SESSION['monthjump'].' month -1 day'); наверняка получу ошибку в высокосный год. но хотя бы так пока более умного не придумается.

**[mihdan](#33200 "2009/04/29 14:49:35"):** На проекте инфоШОС http://infoshos.ru стоит календарь разработанный на данном классе, как видите - ошибок нет

**[Юрий](#33202 "2009/04/29 15:01:40"):** mihdan - так там и листание идет не стрелочками влево-вправо а выбором конкретно года и месяца - там не может быть ошибки.

**[Юрий](#33189 "2009/04/29 13:39:09"):** Листание месяцев сделал. нашел проблему - сегодня 29 число. если я листаю назад и вперед и дохожу до февраля - показывает март! причем два раза. я думаю что проблема именно в 29 числе. делаю вручную $currentMonth = strtotime('-2 month'); без своих заморочек с листанием - получаю все равно март.

**[mihdan](#33186 "2009/04/29 13:05:07"):** Юрий, а в чем у вас проблема?

**[admin](#33182 "2009/04/29 12:31:51"):** Юрий: Этот класс не про навигацию, а про отрисовку календаря. Ссылки на «соседние» страницы так или иначе придется реализовывать отдельно.

**[Юрий](#33179 "2009/04/29 11:28:24"):** А в классе предусмотрен переход Назад Вперед по месяцам при показе всего одного месяца? Или придется реализовывать самому?

**[mihdan](#26921 "2009/02/23 19:46:41"):** Перед инициализацие класса Calendar(), его необходимо подключить Например так include_once 'calendar.class.php'; $cal = new Calendar();

**[admin](#26858 "2009/02/23 11:26:23"):** По всей видимости, не подключен файл, в котором определен Calendar. Стоит внимательнее смотерть на пример (точка входа на в demo4.php).

**[Дмитрий](#26845 "2009/02/23 08:17:52"):** Забыл дописать что он у меня выдает Fatal error: Class 'Calendar' not found in C:\www\html\calendar\demo4.php on line 2 т.е. ему ненравица строка $c = new Calendar(); что в ней должно быть?

**[Дмитрий](#26843 "2009/02/23 08:14:03"):** Я пробка но чтото понять немагу как его запустить чтото работать нехочет, хотелось бы чтобы автор еще для ламоботов объяснил как календарь воткнуть в страницу и чтобы он работал.

**[Сергей](#45498 "2010/05/14 18:43:37"):** Здравствуйте! Нужна помощь,нужно сделать чтобы в календаре выделялись выходные дни и первый день стоял понедельник а не воскресенье,менял разные значения но у меня ничего не вышло

**[Exorcist](#45598 "2010/05/24 05:21:22"):** Отличный календарь. А как его модифицировать под AJAX. Чтобы можно было листать календарь влево вправо по месяцам?

**[Dmitriy](#47199 "2010/09/04 01:42:58"):** Хочу, но не знаю, куда и как в букс поместить календарь! Экспериментировал, однако, нечего не получилось! Пожалуйста, подскажите, как и куда в Букс установить календарь, чтоб работал! Mtnuleft.php - побывал но не знаю почему не работает!

**[Антон](#55487 "2011/05/24 12:45:53"):** отличный календарь... только никак пока не разобрались, почему дни и месяц не показывает буквами, всё ругается что-то...

**[СофтМ](#55977 "2011/06/01 04:25:40"):** http://softm.org.ua/kalendar-2-mnogo-priyatnogo/ Коментариев много - звините, переделял, выложил.

**[СофтМ](#64185 "2012/02/28 16:02:51"):** Поменял домен ... как бы народ ищет. http://publikz.com/kalendar-2-mnogo-priyatnogo/comment-page-1/#comment-1799

Звиняйте еще раз кину ссылкой ...

