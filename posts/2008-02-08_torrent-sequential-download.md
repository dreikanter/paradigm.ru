title: Последовательное выкачивание файлов торрента
link: http://paradigm.ru/%d0%bf%d0%be%d1%81%d0%bb%d0%b5%d0%b4%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d0%be%d0%b5-%d0%b2%d1%8b%d0%ba%d0%b0%d1%87%d0%b8%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5-%d1%84%d0%b0%d0%b9%d0%bb%d0%be%d0%b2
creator: admin
description: 
post_id: 172
created: 2008/02/08 15:01:30
created_gmt: 2008/02/08 12:01:30
comment_status: open
post_name: %d0%bf%d0%be%d1%81%d0%bb%d0%b5%d0%b4%d0%be%d0%b2%d0%b0%d1%82%d0%b5%d0%bb%d1%8c%d0%bd%d0%be%d0%b5-%d0%b2%d1%8b%d0%ba%d0%b0%d1%87%d0%b8%d0%b2%d0%b0%d0%bd%d0%b8%d0%b5-%d1%84%d0%b0%d0%b9%d0%bb%d0%be%d0%b2
status: publish
post_type: post

# Последовательное выкачивание файлов торрента

При скачивании больших торрентов, содержащих связанные множества больших файлов, часто возникает потребность упорядочить последовательность их скачивания. Например, это может быть актуально для сериалов, музыкальных альбомов или аудиокниг. Т.е. всех тех случаев, когда восроизведение материала требует упорядоченности.

Если файлы будут скачиваться последовательно, то, во-первых, можно будет начать воспроизведение, не дожидаясь полной загрузки торрента, а во-вторых, оценить качество материала и при необходимости прервать закачку, без лишних затрат времени и трафика (допустим, если не устроил битрейт аудиозаписи или пилотная серия показалась неинтересной).

Учитывая, что каждый отдельный торрент воспринимается клиентом как единый массив данных, приходится довольствоваться ограниченными возможностями управления процессом закачки — расстановкой приоритетов. Получается примерно так:

![](/;-\)/2008/02/priority.png)

(на скриншоте — список файлов в клиенте [uTorrent](http://utorrent.com/))

Возникает естесственный вопрос: а почему бы не автоматизировать процесс расстановки приоритетов, форсировав тем самым соблюдение последовательности выкачивания файлов? 

Такая опциональная возможность могла бы оказаться очень полезной в том же uTorrent. Интерфейсное решение выглядело бы примерно так: при добавлении нового торрента, упорядочиваем список его файлов, в соответствии с нашими потребностями (сортировкой по колонкам таблицы или drag'n'drop-ом элементов списка с возможностью выделения групп файлов); ставим в нужном месте галку «Sequential download» и ждем файлы, которые теперь будут появляться в заданном, а не случайном порядке.

В принципе, такой подход содержит в себе одну негативную деталь. На раннем этапе раздачи контента он будет в какой-то мере снижать эффективность распространения контента между пирами. И, как следствие, снижать скорость появления сидов в сварме (прости, Русский язык). Т.е. последовательный метод закачки довольно эгоистичен, что предполагает необходимость контролировать появление слишком «жадных» пиров на стороне трекера. Впрочем, это уже и так везде реализовано, а каких-то дополнительных изменений, специфичных в условиях автоматической расстановки приоритетов на клиентах, понадобиться не должно.

Такая идея.

## Comments

**[Валентин](#288 "2008/02/08 15:56:51"):** Согласен! Сам давно такого хотел, когда смотрел футураму, лост и пр.

**[ksen](#289 "2008/02/08 16:56:32"):** В настройках мю-торрента есть опция `bt.prio_first_last_piece`, которая этим и занимается. Но это действительно эгоистично :)

**[admin](#290 "2008/02/08 17:32:39"):** ksen: Спасибо, не знал. Нужно будет на ком-нибудь проверить эту опцию (:

**[darkside](#291 "2008/02/08 18:05:37"):** а я просто качаю по 4-5 первых частей, и так последовательно, что бы канал не грузить. проблема есть, но по-моему она не столь серьёзна.

**[Михайлов](#311 "2008/02/16 20:29:50"):** Выглядит забавно!

**[hereiam](#3950 "2008/10/24 18:22:42"):** ошибочно полагаете что опция bt.prio_first_last_piece имеет отношение к последовательной закачке. она лишь закачивает первый и последний мегабайт из файла чтобы можно было его открыть(в этом мегабайте содержиться дескриптор файла). пс: в utorrent как и в азуреус, биткомета(есть намёк, но очень слабый), битспирит и еще куче торрент клиентов нет настроек последовательной закачки на данный момент. и скорее всего не будет. по крайней мере разработчики скорее всего не вставят такую возможность т.к. это противоречит быстрому и надежному бит обмену. ВОТ ТАК :D

**[grodno-soft.ucoz.ru](#9859 "2008/12/07 00:34:54"):** ссылка на новую русскую версию utorrent 208 кб http://depositfiles.com/files/wqaueb2o4

**[Рабочая ссылка](#10203 "2008/12/08 20:31:51"):** Новая полная русская версия пргаммы utorrent http://depositfiles.com/files/coojlgnve 100% рабочая ссылка

**[gpk](#40284 "2009/11/25 09:06:06"):** Разработчики популярных торрент-клиентов, таких как uTorrent и azureus, категорически против такого способа загрузки и не рекомендуют расставлять приоритеты. Оригинальная статья и ее перевод: http://www.azureuswiki.com/index.php/Sequential_downloading_is_bad http://translated.by/you/sequential-downloading-is-bad/into-ru/ С другой стороны, в такой пиринговой системе, как Perfect Dark, любой файл начинает выкачиваться с начала, и, когда скачается около 3%, куски приходят в случайном порядке (очень удобно для предпросмотра видео и архивов); однако эта система навязывает хранение чужих файлов на вашем компьютере (на сегодня, в размере не менее 40ГБ). На мой взгляд, расставление приоритетов не вносит негатива лишь при высоких скоростях сидов.

**[gpk](#40286 "2009/11/25 09:25:22"):** Еще хочу добавить, что популярная кроссплатформенная библиотека libTorrent, используемая в консольном линукс-клиенте rTorrent и многих других, (из наблюдений) скачивает файлы последовательно.

**[weter](#40245 "2009/11/23 22:31:10"):** Да неужто нет? А qbittorrent? Просто он не портирован в виндос и навряд ли будет.

**[weter](#42511 "2010/01/30 19:24:51"):** gpk, да ты прав, я об этом забыл. Значит последовательно скачивать могут владельцы любой оси, если в самом клиенте реализована такая возможность.

**[Ruslan](#43163 "2010/02/21 22:29:45"):** Вот http://ruzzzua.ya.ru/replies.xml?item_no=8

